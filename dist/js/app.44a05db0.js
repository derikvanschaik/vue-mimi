(function(){"use strict";var e={3825:function(e,t,n){var i=n(9963),a=n(6252),s=n(3577);const o=e=>((0,a.dD)("data-v-473c4f15"),e=e(),(0,a.Cn)(),e),l={key:1,class:"container my-2"},d=o((()=>(0,a._)("div",{class:"row"},[(0,a._)("div",{class:"jumbotron my-1 rounded"},[(0,a._)("h1",{class:"display-4"},"MIMI: Mindmaps made easy"),(0,a._)("p",{class:"lead"},"Either click one of the links below to explore existing mindmaps, or create a new mindmap on the right! ")])],-1))),r={class:"row"},x={class:"col-8"},c={class:"list-group"},h=["onClick"],p={class:"action-menu"},m=["onClick"],u=["onClick"],b={class:"col-4"},g={class:"form-group my-5"},k=o((()=>(0,a._)("label",{for:"mindmap-name"},"Mindmap Name",-1))),w={class:"form-group my-5"},f={for:"mindmap-name"},M=o((()=>(0,a._)("div",{class:"alert alert-danger"},[(0,a._)("h4",null,"WARNING!!! 🤯"),(0,a._)("p",null,[(0,a.Uk)(" If you have any "),(0,a._)("strong",null,"textboxes containing links referencing this mindmap"),(0,a.Uk)(" this can result in very strange and unexpected behaviour! "),(0,a._)("br"),(0,a.Uk)(" We are aware of this issue and we are working on resolving it. 👨‍💻 "),(0,a._)("br"),(0,a.Uk)(" For now the user assumes the risk of this action, sorry about that! 😬 ")])],-1)));function y(e,t,n,o,y,v){const C=(0,a.up)("mind-map"),T=(0,a.up)("modal-component");return null!==y.idx?((0,a.wg)(),(0,a.j4)(C,{key:y.idx,curTextboxes:y.mindmaps[y.idx].textboxes,curLines:y.mindmaps[y.idx].lines,handleClose:()=>v.setIdx(null),updateTextboxesHandler:v.updateTextboxes,updateLinesHandler:v.updateLines,navigateMindmap:v.navigateMindmapCallback(),path:y.path,pathChange:v.pathChangeCallback(),mindmaps:y.mindmaps,createLinkHandler:v.createLink},null,8,["curTextboxes","curLines","handleClose","updateTextboxesHandler","updateLinesHandler","navigateMindmap","path","pathChange","mindmaps","createLinkHandler"])):((0,a.wg)(),(0,a.iD)("div",l,[d,(0,a._)("div",r,[(0,a._)("div",x,[(0,a._)("ul",c,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(y.mindmaps,((e,t)=>((0,a.wg)(),(0,a.iD)("li",{key:t,class:"list-group-item d-flex justify-content-between"},[(0,a._)("a",{href:"#",onClick:e=>v.setIdx(t)},(0,s.zw)(e.title),9,h),(0,a._)("div",p,[(0,a._)("button",{type:"button",class:"btn btn-outline-dark mx-3",onClick:e=>v.openEditMindmapModal(t)},"Edit",8,m),(0,a._)("button",{type:"button",class:"btn btn-outline-danger",onClick:e=>v.openDeleteMindmapModal(t)},"Delete",8,u)])])))),128))])]),(0,a._)("div",b,[(0,a._)("button",{onClick:t[0]||(t[0]=(...e)=>v.openCreateNewModal&&v.openCreateNewModal(...e)),class:"btn btn-secondary"},"New Mindmap")])]),(0,a.Wm)(T,{handleClose:v.closeModal,show:v.showCreateNewModal},{default:(0,a.w5)((()=>[(0,a._)("div",g,[k,(0,a.wy)((0,a._)("input",{class:"form-control",name:"mindmap-name",placeholder:"Enter new mindmap name","onUpdate:modelValue":t[1]||(t[1]=e=>y.newMindmapName=e)},null,512),[[i.nr,y.newMindmapName]])]),(0,a._)("button",{class:"btn btn-secondary my-3",onClick:t[2]||(t[2]=(...e)=>v.createNewMindmap&&v.createNewMindmap(...e))},"Create"),(0,a._)("button",{class:"btn btn-outline-danger",onClick:t[3]||(t[3]=(...e)=>v.closeModal&&v.closeModal(...e))},"Cancel")])),_:1},8,["handleClose","show"]),(0,a.Wm)(T,{handleClose:v.closeModal,show:v.showEditModal},{default:(0,a.w5)((()=>[(0,a._)("div",w,[(0,a._)("label",f,"Enter new name for mindmap '"+(0,s.zw)(v.previousTitle)+"' :",1),(0,a.wy)((0,a._)("input",{class:"form-control",name:"mindmap-name",placeholder:"Enter new mindmap name","onUpdate:modelValue":t[4]||(t[4]=e=>y.newMindmapName=e)},null,512),[[i.nr,y.newMindmapName]])]),(0,a._)("button",{class:"btn btn-secondary my-3",onClick:t[5]||(t[5]=(...e)=>v.editMindmapTitle&&v.editMindmapTitle(...e))},"Change"),(0,a._)("button",{class:"btn btn-outline-danger",onClick:t[6]||(t[6]=(...e)=>v.closeModal&&v.closeModal(...e))},"Cancel")])),_:1},8,["handleClose","show"]),(0,a.Wm)(T,{handleClose:v.closeModal,show:v.showDeleteModal},{default:(0,a.w5)((()=>[M,(0,a._)("button",{class:"btn btn-danger my-3",onClick:t[7]||(t[7]=(...e)=>v.deleteMindmap&&v.deleteMindmap(...e))},"Delete"),(0,a._)("button",{class:"btn btn-secondary",onClick:t[8]||(t[8]=(...e)=>v.closeModal&&v.closeModal(...e))},"Cancel")])),_:1},8,["handleClose","show"])]))}n(7658);const v=["width","height"],C=(0,a._)("span",{class:"close-icon"},"+",-1),T=[C],_={class:"menu"},L=["disabled"],I=["disabled"],D={class:"path"},N=(0,a._)("p",{class:"my-3"},"Create a link to one of the following mindmaps:",-1),E=["value"],S={class:"my-3"};function Y(e,t,n,o,l,d){const r=(0,a.up)("drag-text"),x=(0,a.up)("link-component"),c=(0,a.up)("modal-component");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("canvas",{width:l.width,height:l.height,ref:"canvas"},null,8,v),(0,a._)("div",{onClick:t[0]||(t[0]=(...e)=>n.handleClose&&n.handleClose(...e)),class:"close"},T),(0,a._)("div",_,[(0,a._)("button",{class:"menu-btn btn btn-light btn-outline-dark mx-1",onClick:t[1]||(t[1]=(...e)=>d.addTextbox&&d.addTextbox(...e))},"Add Tbox"),(0,a._)("button",{class:"menu-btn btn btn-light btn-outline-dark mx-1",onClick:t[2]||(t[2]=(...e)=>d.connectedSelected&&d.connectedSelected(...e)),disabled:d.cannotConnect},"Connect",8,L),(0,a._)("button",{class:"menu-btn btn btn-light btn-outline-dark mx-1",onClick:t[3]||(t[3]=(...e)=>d.toggleShowMindmapList&&d.toggleShowMindmapList(...e)),disabled:d.cannotLink},"Link",8,I)]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.textboxes,((e,t)=>((0,a.wg)(),(0,a.j4)(r,{key:e.id,idx:t,onDragStart:d.handleDragStart,updateLinesHandler:d.updateLines,updateTextbox:d.updateTextbox(t),deleteTextbox:d.deleteTextbox(t),selectTextbox:d.selectTextbox(t),updateTextboxText:d.updateTextboxText(t),selected:e.selected,text:e.text,startX:e.x,startY:e.y,link:e.link,navigateMindmap:n.navigateMindmap},null,8,["idx","onDragStart","updateLinesHandler","updateTextbox","deleteTextbox","selectTextbox","updateTextboxText","selected","text","startX","startY","link","navigateMindmap"])))),128)),(0,a._)("ul",D,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.path,((e,t)=>((0,a.wg)(),(0,a.j4)(x,{class:"link",key:e,text:e.title,handleNavigate:()=>d.handlePathChange(t,e.link)},null,8,["text","handleNavigate"])))),128))]),(0,a.Wm)(c,{show:l.showMindmapList,handleClose:()=>l.showMindmapList=!1},{default:(0,a.w5)((()=>[N,(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>l.linkedMindmapIdx=e),class:"form-select"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.mindmaps,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{key:t,value:t},(0,s.zw)(e.title),9,E)))),128))],512),[[i.bM,l.linkedMindmapIdx]]),(0,a._)("div",S,[(0,a._)("button",{class:"btn btn-success mx-3",onClick:t[5]||(t[5]=(...e)=>d.linkTextboxToMindmap&&d.linkTextboxToMindmap(...e))},"Create Link"),(0,a._)("button",{class:"btn btn-secondary",onClick:t[6]||(t[6]=(...e)=>d.toggleShowMindmapList&&d.toggleShowMindmapList(...e))},"Cancel")])])),_:1},8,["show","handleClose"])],64)}const H={key:0,class:"textbox-text"},F={key:0},X={key:1},B=["checked"];function O(e,t,n,o,l,d){const r=(0,a.up)("link-component");return(0,a.wg)(),(0,a.iD)("div",{ref:"textbox",class:"textbox",onMousedown:t[5]||(t[5]=(...e)=>d.emitDragStart&&d.emitDragStart(...e))},[l.isEditing?(0,a.wy)(((0,a.wg)(),(0,a.iD)("textarea",{key:1,"onUpdate:modelValue":t[0]||(t[0]=e=>l.inputText=e),rows:"7",onInput:t[1]||(t[1]=(...t)=>e.handleInput&&e.handleInput(...t))},null,544)),[[i.nr,l.inputText]]):((0,a.wg)(),(0,a.iD)("div",H,[n.link>=0?((0,a.wg)(),(0,a.iD)("div",F,[(0,a.Wm)(r,{handleNavigate:d.handleNavigate,text:l.inputText},null,8,["handleNavigate","text"])])):((0,a.wg)(),(0,a.iD)("div",X,(0,s.zw)(l.inputText),1))])),(0,a._)("span",{class:"delete",onClick:t[2]||(t[2]=(...e)=>d.handleDelete&&d.handleDelete(...e))},"×"),(0,a._)("button",{onClick:t[3]||(t[3]=(...e)=>d.toggleIsEditing&&d.toggleIsEditing(...e))},(0,s.zw)(l.isEditing?"Done":"Edit"),1),(0,a._)("input",{onClick:t[4]||(t[4]=(...e)=>d.handleSelect&&d.handleSelect(...e)),type:"checkbox",class:"select",checked:n.selected},null,8,B)],544)}function j(e,t,n,i,o,l){return(0,a.wg)(),(0,a.iD)("a",{href:"#",onClick:t[0]||(t[0]=(...e)=>n.handleNavigate&&n.handleNavigate(...e))},(0,s.zw)(n.text),1)}var A={props:{text:String,handleNavigate:Function}},P=n(3744);const W=(0,P.Z)(A,[["render",j]]);var $=W,U={name:"App",components:{LinkComponent:$},props:{updateLinesHandler:Function,updateTextbox:Function,deleteTextbox:Function,selectTextbox:Function,updateTextboxText:Function,selected:Boolean,text:String,startX:Number,startY:Number,idx:Number,link:Number,navigateMindmap:Function},mounted(){this.repositionTextBox()},updated(){this.repositionTextBox()},data(){return{x:this.startX,y:this.startY,isEditing:!1,inputText:this.text}},methods:{repositionTextBox(){this.$refs.textbox.style.left=`${this.startX}px`,this.$refs.textbox.style.top=`${this.startY}px`},emitDragStart(e){this.isEditing||this.$emit("dragStart",e.clientX,e.clientY,this.idx)},handleDelete(){this.deleteTextbox(),this.updateLinesHandler(this.$refs.textbox.offsetLeft,this.$refs.textbox.offsetTop)},handleSelect(e){e.stopPropagation(),this.selectTextbox()},toggleIsEditing(){this.isEditing=!this.isEditing,this.isEditing||this.updateTextboxText(this.inputText)},handleNavigate(){this.navigateMindmap(this.link)}}};const z=(0,P.Z)(U,[["render",O],["__scopeId","data-v-3863b6a0"]]);var V=z;const Z={class:"modal-content"};function K(e,t,n,i,o,l){return(0,a.wg)(),(0,a.iD)("div",{class:"modal",style:(0,s.j5)({display:n.show?"block":"none"})},[(0,a._)("div",Z,[(0,a._)("span",{class:"close-btn",onClick:t[0]||(t[0]=e=>n.handleClose())},"×"),(0,a.WI)(e.$slots,"default")])],4)}var R={props:{show:Boolean,handleClose:Function}};const G=(0,P.Z)(R,[["render",K]]);var J=G;const{v4:q}=n(7429);var Q={components:{DragText:V,LinkComponent:$,ModalComponent:J},props:{curTextboxes:Array,curLines:Array,handleClose:Function,updateTextboxesHandler:Function,updateLinesHandler:Function,navigateMindmap:Function,path:Array,pathChange:Function,mindmaps:Array,createLinkHandler:Function},mounted(){this.clearCanvasAndDrawLines(),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",(()=>this.isDragging=!1))},computed:{cannotConnect(){return 2!==this.textboxes.filter((e=>e.selected)).length},cannotLink(){return 1!==this.textboxes.filter((e=>e.selected)).length}},data(){return{width:window.innerWidth,height:window.innerHeight,textboxes:this.curTextboxes,lines:this.curLines,isDragging:!1,x:0,y:0,dragBoxIdx:-1,showMindmapList:!1,linkedMindmapIdx:null}},methods:{handleDragStart(e,t,n){this.isDragging=!0,this.x=e,this.y=t,this.dragBoxIdx=n},handleMouseMove(e){if(this.isDragging){const t=e.clientX-this.x,n=e.clientY-this.y,i=this.textboxes[this.dragBoxIdx].x,a=this.textboxes[this.dragBoxIdx].y;this.textboxes[this.dragBoxIdx].x+=t,this.textboxes[this.dragBoxIdx].y+=n,this.x=e.clientX,this.y=e.clientY,this.textboxes=this.textboxes.map((e=>e)),this.updateLines(i,a,this.textboxes[this.dragBoxIdx].x,this.textboxes[this.dragBoxIdx].y)}},addTextbox(){this.textboxes.push({x:500,y:500,text:"click edit to change text",selected:!1,id:q(),link:-1})},selectTextbox(e){return()=>{this.textboxes[e].selected=!this.textboxes[e].selected}},deleteTextbox(e){return()=>{this.textboxes=this.textboxes.filter(((t,n)=>n!==e))}},updateTextbox(e){return(t,n)=>{this.textboxes[e]={...this.textboxes[e],x:t,y:n}}},updateTextboxText(e){return t=>{this.textboxes[e]={...this.textboxes[e],text:t}}},clearCanvasAndDrawLines(){const e=this.$refs.canvas.getContext("2d");e.clearRect(0,0,this.width,this.height),this.lines.forEach((t=>{e.beginPath(),e.moveTo(t.fromX,t.fromY),e.lineTo(t.toX,t.toY),e.stroke()}))},updateLines(e,t,n,i){const a=(null===n||void 0===n)&&(null===i||void 0===i);for(let s=0;s<this.lines.length;s++){const{fromX:o,fromY:l,toX:d,toY:r}=this.lines[s];o===e&&l===t?this.lines[s]=a?null:{fromX:n,fromY:i,toX:d,toY:r}:d===e&&r===t&&(this.lines[s]=a?null:{fromX:o,fromY:l,toX:n,toY:i})}this.lines=this.lines.filter((e=>null!==e)),this.clearCanvasAndDrawLines()},connectedSelected(){const[e,t]=this.textboxes.filter((e=>e.selected)),n={fromX:e.x,fromY:e.y,toX:t.x,toY:t.y};this.lines.push(n),this.clearCanvasAndDrawLines(),this.textboxes.forEach((e=>e.selected=!1))},handlePathChange(e,t){this.pathChange(e,t)},toggleShowMindmapList(){this.showMindmapList=!this.showMindmapList,this.showMindmapList?(this.linkedMindmapIdx=this.textboxes.find((e=>!0===e.selected)).link,-1===this.linkedMindmapIdx&&(this.linkedMindmapIdx=null)):this.linkedMindmapIdx=null},linkTextboxToMindmap(){const e=this.textboxes.indexOf(this.textboxes.find((e=>!0===e.selected)));this.createLinkHandler(e,this.linkedMindmapIdx),this.toggleShowMindmapList(),this.textboxes.forEach((e=>e.selected=!1))}},watch:{textboxes:{handler(e){this.updateTextboxesHandler(e)},deep:!0},lines(e){this.updateLinesHandler(e)}}};const ee=(0,P.Z)(Q,[["render",Y]]);var te=ee;const{v4:ne}=n(7429);var ie={components:{MindMap:te,ModalComponent:J},computed:{previousTitle(){return null!==this.editIdx?this.mindmaps[this.editIdx].title:""},showCreateNewModal(){return!0===this.modal.open&&"create"===this.modal.type},showEditModal(){return!0===this.modal.open&&"edit"===this.modal.type},showDeleteModal(){return!0===this.modal.open&&"delete"===this.modal.type}},data(){return{modal:{open:!1,type:"create"},newMindmapName:"",deleteIdx:null,editIdx:null,idx:null,mindmaps:[{title:"My Company",textboxes:[{x:600,y:100,text:"Careers",selected:!1,id:ne(),link:1},{x:10,y:100,text:"Employees",selected:!1,id:ne(),link:2}],lines:[]},{title:"Occupations",textboxes:[{x:100,y:100,text:"Engineering",selected:!1,id:ne(),link:3},{x:400,y:500,text:"Finance",selected:!1,id:ne(),link:4},{x:600,y:100,text:"Marketing",selected:!1,id:ne(),link:5}],lines:[]},{title:"Employees @ company",textboxes:[{x:200,y:500,text:"Jeff Caronzo",selected:!1,id:ne(),link:-1},{x:500,y:500,text:"Silas Bonana",selected:!1,id:ne(),link:-1}],lines:[]},{title:"types of Engineering",textboxes:[{x:100,y:100,text:"Software",selected:!1,id:ne(),link:-1},{x:400,y:500,text:"Financial",selected:!1,id:ne(),link:-1},{x:600,y:100,text:"Civil",selected:!1,id:ne(),link:-1}],lines:[]},{title:"types of Finance",textboxes:[{x:100,y:100,text:"Accounting",selected:!1,id:ne(),link:-1},{x:400,y:500,text:"Legal",selected:!1,id:ne(),link:-1},{x:600,y:100,text:"Venture Capital",selected:!1,id:ne(),link:-1}],lines:[]},{title:"types of Marketing",textboxes:[{x:100,y:100,text:"Digital",selected:!1,id:ne(),link:-1},{x:400,y:500,text:"Media",selected:!1,id:ne(),link:-1}],lines:[]}],path:[]}},watch:{idx(e,t){null!==e&&null===t&&(this.path=[],this.addToPath(e))}},methods:{setIdx(e){this.idx=e},setEditIdx(e){this.editIdx=e},setDeleteIdx(e){this.deleteIdx=e},updateTextboxes(e){this.mindmaps[this.idx].textboxes=e},updateLines(e){this.mindmaps[this.idx].lines=e},navigateMindmapCallback(){return e=>{this.setIdx(e),this.addToPath(e)}},addToPath(e){this.path.push({link:e,title:this.mindmaps[e].title})},pathChangeCallback(){return(e,t)=>{this.path=this.path.slice(0,e+1),this.idx=t}},createLink(e,t){this.mindmaps[this.idx].textboxes[e].link=t},openCreateNewModal(){this.modal={open:!0,type:"create"}},openEditMindmapModal(e){this.setEditIdx(e),this.modal={open:!0,type:"edit"}},openDeleteMindmapModal(e){this.setDeleteIdx(e),this.modal={open:!0,type:"delete"}},closeModal(){this.modal.open=!1},isMindmapNameEmpty(){return""===this.newMindmapName&&(alert("Mindmap name cannot be blank!"),!0)},createNewMindmap(){if(this.isMindmapNameEmpty())return;const e={title:this.newMindmapName,textboxes:[],lines:[]};this.mindmaps.push(e),this.newMindmapName="",this.modal.open=!1},editMindmapTitle(){this.isMindmapNameEmpty()||(this.mindmaps[this.editIdx].title=this.newMindmapName,this.newMindmapName="",this.modal.open=!1)},deleteMindmap(){this.mindmaps=[...this.mindmaps.slice(0,this.deleteIdx),...this.mindmaps.slice(this.deleteIdx+1,this.mindmaps.length)],this.modal.open=!1}}};const ae=(0,P.Z)(ie,[["render",y],["__scopeId","data-v-473c4f15"]]);var se=ae;(0,i.ri)(se).mount("#app")}},t={};function n(i){var a=t[i];if(void 0!==a)return a.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,n),s.exports}n.m=e,function(){var e=[];n.O=function(t,i,a,s){if(!i){var o=1/0;for(x=0;x<e.length;x++){i=e[x][0],a=e[x][1],s=e[x][2];for(var l=!0,d=0;d<i.length;d++)(!1&s||o>=s)&&Object.keys(n.O).every((function(e){return n.O[e](i[d])}))?i.splice(d--,1):(l=!1,s<o&&(o=s));if(l){e.splice(x--,1);var r=a();void 0!==r&&(t=r)}}return t}s=s||0;for(var x=e.length;x>0&&e[x-1][2]>s;x--)e[x]=e[x-1];e[x]=[i,a,s]}}(),function(){n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,s,o=i[0],l=i[1],d=i[2],r=0;if(o.some((function(t){return 0!==e[t]}))){for(a in l)n.o(l,a)&&(n.m[a]=l[a]);if(d)var x=d(n)}for(t&&t(i);r<o.length;r++)s=o[r],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(x)},i=self["webpackChunkmimi"]=self["webpackChunkmimi"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(3825)}));i=n.O(i)})();
//# sourceMappingURL=app.44a05db0.js.map